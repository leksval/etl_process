{% extends "template.html" %}

{% block content %}
<div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">Movies</h4>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table dataTable" id="example">
              <thead class=" text-primary">
                <th>
                  Title
                </th>
                <th>
                  Director
                </th>
                <th class="text-right">
                  Release year
                </th>
              </thead>
              <tbody>
                {%for m in movies%}
            <tr>
                    <td><a href="/movie/{{m.id}}">{{m.title}}</a></td>
                    {%for d in director%}
                        {%if d.id ==m.director%}
                             <td>{{d.name}}</td>
                        {%endif%}
                    {%endfor%}
                    <td class="text-right">{{m.year}}</td>

            </tr>
            {%endfor%}
                
              </tbody>
            </table>

          </div>
        </div>
      </div>
    </div>


    <script>
    $(document).ready(function() {
 
    // DataTable
    var table = $('#example').DataTable({
      "order": [[0, "desc"]],
    });
} );
    </script>
{% endblock %}